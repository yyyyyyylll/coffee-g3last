<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>瑞幸小红书-情绪经济反映</title>

  <style>
    html, body { height: 100%; margin: 0; background: transparent; }
    .chart-wrapper{
      width: 100%;
      height: 100%;
      border: 1.5px solid #6f6f6f;
      box-sizing: border-box;
      padding: 4px;           /* 方框贴近内容 */
      background: transparent;
    }
    #chart{ width: 100%; height: 100%; }
  </style>
</head>

<body>
  <div class="chart-wrapper">
    <div id="chart"></div>
  </div>

  <!-- ECharts -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  <!-- WordCloud 扩展 -->
  <script src="https://cdn.jsdelivr.net/npm/echarts-wordcloud@2/dist/echarts-wordcloud.min.js"></script>

  <script>
    // 100个词：完整数据（不省略）
    const data = [{"name":"联名","value":240},
{"name":"打卡","value":127},
{"name":"疯狂动物城","value":115},
{"name":"新品","value":107},
{"name":"卡皮巴拉","value":106},
{"name":"周边","value":101},
{"name":"情绪","value":98},
{"name":"活动","value":96},
{"name":"可爱","value":92},
{"name":"喜欢","value":86},
{"name":"门店","value":83},
{"name":"快乐","value":79},
{"name":"太好看","value":76},
{"name":"拍照","value":74},
{"name":"氛围","value":73},
{"name":"真的","value":72},
{"name":"体验","value":70},
{"name":"一起","value":69},
{"name":"周末","value":67},
{"name":"排队","value":66},
{"name":"出片","value":64},
{"name":"限定","value":63},
{"name":"治愈","value":62},
{"name":"好喝","value":60},
{"name":"咖啡","value":59},
{"name":"朋友","value":58},
{"name":"礼物","value":56},
{"name":"惊喜","value":55},
{"name":"开心","value":54},
{"name":"仪式感","value":53},
{"name":"现场","value":52},
{"name":"热闹","value":51},
{"name":"打卡点","value":50},
{"name":"收藏","value":49},
{"name":"推荐","value":48},
{"name":"分享","value":47},
{"name":"想去","value":46},
{"name":"期待","value":45},
{"name":"好心情","value":44},
{"name":"氛围感","value":43},
{"name":"节日","value":42},
{"name":"福利","value":41},
{"name":"抽奖","value":40},
{"name":"参与","value":39},
{"name":"互动","value":38},
{"name":"拍照打卡","value":37},
{"name":"现场活动","value":36},
{"name":"门店体验","value":35},
{"name":"打工人","value":34},
{"name":"解压","value":33},
{"name":"放松","value":33},
{"name":"温暖","value":32},
{"name":"陪伴","value":31},
{"name":"治愈系","value":30},
{"name":"感觉","value":30},
{"name":"城市","value":29},
{"name":"上新","value":28},
{"name":"打卡成功","value":28},
{"name":"出门","value":27},
{"name":"逛街","value":27},
{"name":"情绪价值","value":26},
{"name":"满足感","value":26},
{"name":"小确幸","value":25},
{"name":"治愈一下","value":25},
{"name":"休息","value":24},
{"name":"放空","value":24},
{"name":"忙碌","value":23},
{"name":"工作","value":23},
{"name":"学习","value":22},
{"name":"通勤","value":22},
{"name":"下午茶","value":21},
{"name":"饮品","value":21},
{"name":"甜品","value":20},
{"name":"拿铁","value":20},
{"name":"冷萃","value":19},
{"name":"美式","value":19},
{"name":"抹茶","value":18},
{"name":"巧克力","value":18},
{"name":"焦糖","value":17},
{"name":"香气","value":17},
{"name":"口感","value":16},
{"name":"浓郁","value":16},
{"name":"丝滑","value":15},
{"name":"顺滑","value":15},
{"name":"果香","value":14},
{"name":"坚果","value":14},
{"name":"限时","value":13},
{"name":"快来","value":13},
{"name":"门店有售","value":12},
{"name":"新品上市","value":12},
{"name":"来杯","value":11},
{"name":"周边限定","value":11},
{"name":"联名款","value":10},
{"name":"打卡分享","value":10},
{"name":"朋友一起","value":9},
{"name":"拍照好看","value":9},
{"name":"一起参与","value":8},
{"name":"幸运","value":8},
{"name":"开心一下","value":7},
{"name":"买到","value":7},
{"name":"太可爱","value":6},
{"name":"排队也值","value":6},
{"name":"拍照很好看","value":5},
{"name":"门店打卡","value":5},
{"name":"城市打卡","value":4},
{"name":"周边好可爱","value":4},
{"name":"打卡必去","value":3},
{"name":"活动现场","value":3},
{"name":"套餐","value":19},
{"name":"自由","value":19},
{"name":"别人","value":18}];

    /* 40% 深蓝 / 30% 浅蓝 / 20% 棕 / 10% 灰 */
    const darkBlues  = ["#1F4E79", "#1E3A5F", "#2B579A"];
    const lightBlues = ["#8EC1E8", "#A9D5F5", "#B7DFF7"];
    const browns     = ["#8B6B4F", "#A07B5A"];
    const greys      = ["#6F6F6F", "#8A8A8A"];

    function pickColor() {
      const r = Math.random();
      if (r < 0.40) return darkBlues[Math.floor(Math.random() * darkBlues.length)];
      if (r < 0.70) return lightBlues[Math.floor(Math.random() * lightBlues.length)];
      if (r < 0.90) return browns[Math.floor(Math.random() * browns.length)];
      return greys[Math.floor(Math.random() * greys.length)];
    }

    const chart = echarts.init(document.getElementById('chart'));

    const option = {
      backgroundColor: 'transparent',
      title: {
        text: '瑞幸小红书-情绪经济反映',
        subtext: '关键词：情绪、打卡、活动',
        left: 'center',
        top: 8,
        itemGap: 4,
        textStyle: { fontSize: 15, fontWeight: 'normal', color: '#333' },
        subtextStyle: { fontSize: 12, color: '#666' }
      },
      tooltip: {
        trigger: 'item',
        formatter: p => `${p.name}<br/>词频：${p.value}`
      },
      series: [{
        type: 'wordCloud',
        shape: 'circle',
        sizeRange: [12, 72],
        rotationRange: [0, 0],      // 全部水平放置
        rotationStep: 0,
        gridSize: 6,
        drawOutOfBound: false,
        top: 50,                    // 给主标题+副标题留空间，但尽量贴近
        textStyle: {
          fontFamily: 'sans-serif',
          color: () => pickColor()
        },
        emphasis: {
          focus: 'self',
          textStyle: { shadowBlur: 8, shadowColor: 'rgba(0,0,0,0.25)' }
        },
        data
      }]
    };

    chart.setOption(option);
    window.addEventListener('resize', () => chart.resize());
  </script>
</body>
</html>
