<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>星巴克小红书官号内容词频图</title>

  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: transparent;
    }

    /* 外层方框：贴近内容 */
    .chart-wrapper {
      width: 100%;
      height: 100%;
      border: 1.5px solid #6f6f6f;
      box-sizing: border-box;
      padding: 4px;          /* 关键：压缩留白 */
      background: transparent;
    }

    #chart {
      width: 100%;
      height: 100%;
    }
  </style>
</head>

<body>
  <div class="chart-wrapper">
    <div id="chart"></div>
  </div>

  <!-- ECharts -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  <!-- WordCloud 扩展 -->
  <script src="https://cdn.jsdelivr.net/npm/echarts-wordcloud@2/dist/echarts-wordcloud.min.js"></script>

  <script>
    const data = [
      {"name":"门店","value":572},
{"name":"系列","value":439},
{"name":"风味","value":426},
      {"name":"一杯","value":408},
{"name":"一起","value":405},
{"name":"新品","value":398},
      {"name":"咖啡","value":395},
{"name":"限定","value":390},
{"name":"喜欢","value":386},
      {"name":"打开","value":382},
{"name":"时光","value":377},
{"name":"快乐","value":376},
      {"name":"分享","value":373},
{"name":"生活","value":372},
{"name":"春日","value":368},
      {"name":"星巴克","value":366},
{"name":"浓郁","value":359},
{"name":"香气","value":356},
      {"name":"口感","value":352},
{"name":"解锁","value":350},
{"name":"灵感","value":347},
      {"name":"开启","value":345},
{"name":"温暖","value":343},
{"name":"好喝","value":340},
      {"name":"新品上市","value":338},
{"name":"来杯","value":335},
{"name":"今日","value":333},
      {"name":"搭配","value":331},
{"name":"美味","value":329},
{"name":"周末","value":327},
      {"name":"仪式感","value":325},
{"name":"感受","value":323},
{"name":"推荐","value":321},
      {"name":"尝试","value":319},
{"name":"限定款","value":317},
{"name":"治愈","value":315},
      {"name":"香甜","value":313},
{"name":"拿铁","value":311},
{"name":"冰饮","value":309},
      {"name":"热饮","value":307},
{"name":"抹茶","value":305},
{"name":"巧克力","value":303},
      {"name":"焦糖","value":301},
{"name":"坚果","value":299},
{"name":"果香","value":297},
      {"name":"轻盈","value":295},
{"name":"顺滑","value":293},
{"name":"丝滑","value":291},
      {"name":"新口味","value":289},
{"name":"上线","value":287},
{"name":"门店有售","value":285},
      {"name":"快来","value":283},
{"name":"收藏","value":281},
{"name":"打卡","value":279},
      {"name":"一起打卡","value":277},
{"name":"拍照","value":275},
{"name":"好心情","value":273},
      {"name":"春天","value":271},
{"name":"夏日","value":269},
{"name":"秋日","value":267},
      {"name":"冬日","value":265},
{"name":"节日","value":263},
{"name":"礼物","value":261},
      {"name":"限定周边","value":259},
{"name":"联名","value":257},
{"name":"会员","value":255},
      {"name":"星礼卡","value":253},
{"name":"积分","value":251},
{"name":"星享俱乐部","value":249},
      {"name":"新品推荐","value":247},
{"name":"风味拿铁","value":245},
{"name":"冷萃","value":243},
      {"name":"美式","value":241},
{"name":"馥芮白","value":239},
{"name":"摩卡","value":237},
      {"name":"提神","value":235},
{"name":"下午茶","value":233},
{"name":"早餐","value":231},
      {"name":"加班","value":229},
{"name":"学习","value":227},
{"name":"通勤","value":225},
      {"name":"出门","value":223},
{"name":"随手","value":221},
{"name":"一口","value":219},
      {"name":"满分","value":217},
{"name":"好味道","value":215},
{"name":"氛围","value":213},
      {"name":"门店体验","value":211},
{"name":"新品尝鲜","value":209},
{"name":"新品上新","value":207},
      {"name":"限时","value":205},
{"name":"福利","value":203},
{"name":"活动","value":201},
      {"name":"一起参与","value":199},
{"name":"抽奖","value":197},
{"name":"惊喜","value":195},
      {"name":"期待","value":193},
{"name":"马上","value":191},
{"name":"快去","value":189}
    ];

    /* 40% 深绿 / 30% 浅绿 / 20% 棕 / 10% 灰 */
    const darkGreens  = ["#2F6F55", "#3A7F63", "#2C6650"];
    const lightGreens = ["#A8D5BA", "#BFE3C9", "#CFEBD6"];
    const browns      = ["#8B6B4F", "#A07B5A"];
    const greys       = ["#6F6F6F", "#8A8A8A"];

    function pickColor() {
      const r = Math.random();
      if (r < 0.40) return darkGreens[Math.floor(Math.random() * darkGreens.length)];
      if (r < 0.70) return lightGreens[Math.floor(Math.random() * lightGreens.length)];
      if (r < 0.90) return browns[Math.floor(Math.random() * browns.length)];
      return greys[Math.floor(Math.random() * greys.length)];
    }

    const chart = echarts.init(document.getElementById('chart'));

    const option = {
      backgroundColor: 'transparent',

      title: {
        text: '星巴克小红书官号内容词频图',
        left: 'center',
        top: 10,                 /* 标题更贴近 */
        textStyle: {
          fontSize: 15,
          fontWeight: 'normal',
          color: '#333'
        }
      },

      tooltip: {
        trigger: 'item',
        formatter: p => `${p.name}<br/>词频：${p.value}`
      },

      series: [{
        type: 'wordCloud',
        shape: 'circle',
        sizeRange: [12, 72],
        rotationRange: [0, 0],
        rotationStep: 0,
        gridSize: 6,
        drawOutOfBound: false,
        top: 38,                /* 词云上移 */

        textStyle: {
          fontFamily: 'sans-serif',
          color: () => pickColor()
        },

        emphasis: {
          focus: 'self',
          textStyle: {
            shadowBlur: 8,
            shadowColor: 'rgba(0,0,0,0.25)'
          }
        },

        data
      }]
    };

    chart.setOption(option);
    window.addEventListener('resize', () => chart.resize());
  </script>
</body>
</html>
