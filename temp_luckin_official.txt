<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>瑞幸小红书官号内容词频图</title>

  <style>
    html, body { height: 100%; margin: 0; background: transparent; }
    .chart-wrapper{
      width: 100%;
      height: 100%;
      border: 1.5px solid #6f6f6f;
      box-sizing: border-box;
      padding: 4px;          /* 方框贴近内容 */
      background: transparent;
    }
    #chart{ width: 100%; height: 100%; }
  </style>
</head>

<body>
  <div class="chart-wrapper">
    <div id="chart"></div>
  </div>

  <!-- ECharts -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  <!-- WordCloud 扩展 -->
  <script src="https://cdn.jsdelivr.net/npm/echarts-wordcloud@2/dist/echarts-wordcloud.min.js"></script>

  <script>
    // 100个词：完整数据（不省略）
    const data = [{"name":"联名","value":1493},
{"name":"新品","value":1147},
{"name":"大家","value":686},
{"name":"美式","value":683},
{"name":"纸袋","value":667},
{"name":"拿铁","value":633},
{"name":"咖啡","value":592},
{"name":"一起","value":589},
{"name":"喜欢","value":579},
{"name":"周边","value":568},
{"name":"星黛露","value":565},
{"name":"瑞幸","value":559},
{"name":"打卡","value":533},
{"name":"活动","value":514},
{"name":"门店","value":500},
{"name":"可爱","value":475},
{"name":"快乐","value":469},
{"name":"限定","value":466},
{"name":"真的","value":451},
{"name":"周末","value":430},
{"name":"拍照","value":417},
{"name":"推荐","value":408},
{"name":"分享","value":406},
{"name":"体验","value":404},
{"name":"好喝","value":400},
{"name":"新品上市","value":398},
{"name":"来杯","value":385},
{"name":"惊喜","value":379},
{"name":"仪式感","value":371},
{"name":"氛围","value":364},
{"name":"治愈","value":355},
{"name":"城市","value":351},
{"name":"出片","value":349},
{"name":"排队","value":343},
{"name":"礼物","value":336},
{"name":"节日","value":332},
{"name":"会员","value":327},
{"name":"福利","value":321},
{"name":"抽奖","value":318},
{"name":"联名款","value":308},
{"name":"限定周边","value":301},
{"name":"门店体验","value":297},
{"name":"一起参与","value":288},
{"name":"拍照打卡","value":284},
{"name":"现场","value":278},
{"name":"热闹","value":276},
{"name":"打卡点","value":271},
{"name":"想去","value":268},
{"name":"期待","value":266},
{"name":"好心情","value":261},
{"name":"氛围感","value":257},
{"name":"上新","value":251},
{"name":"打工人","value":246},
{"name":"解压","value":241},
{"name":"放松","value":239},
{"name":"温暖","value":235},
{"name":"陪伴","value":232},
{"name":"情绪","value":228},
{"name":"情绪价值","value":224},
{"name":"满足感","value":221},
{"name":"小确幸","value":218},
{"name":"治愈系","value":213},
{"name":"感觉","value":210},
{"name":"出门","value":206},
{"name":"逛街","value":203},
{"name":"朋友","value":201},
{"name":"朋友一起","value":196},
{"name":"工作","value":193},
{"name":"学习","value":190},
{"name":"通勤","value":187},
{"name":"下午茶","value":184},
{"name":"饮品","value":181},
{"name":"甜品","value":176},
{"name":"冷萃","value":172},
{"name":"摩卡","value":169},
{"name":"抹茶","value":166},
{"name":"巧克力","value":163},
{"name":"焦糖","value":160},
{"name":"香气","value":156},
{"name":"口感","value":153},
{"name":"浓郁","value":150},
{"name":"丝滑","value":147},
{"name":"顺滑","value":144},
{"name":"果香","value":141},
{"name":"坚果","value":138},
{"name":"限时","value":135},
{"name":"门店有售","value":133},
{"name":"快来","value":132},
{"name":"新品尝鲜","value":131},
{"name":"草莓","value":127},
{"name":"热饮","value":126},
{"name":"鲜萃","value":126}];

    /* 颜色保持一致：40% 深蓝 / 30% 浅蓝 / 20% 棕 / 10% 灰 */
    const darkBlues  = ["#1F4E79", "#1E3A5F", "#2B579A"];
    const lightBlues = ["#8EC1E8", "#A9D5F5", "#B7DFF7"];
    const browns     = ["#8B6B4F", "#A07B5A"];
    const greys      = ["#6F6F6F", "#8A8A8A"];

    function pickColor() {
      const r = Math.random();
      if (r < 0.40) return darkBlues[Math.floor(Math.random() * darkBlues.length)];
      if (r < 0.70) return lightBlues[Math.floor(Math.random() * lightBlues.length)];
      if (r < 0.90) return browns[Math.floor(Math.random() * browns.length)];
      return greys[Math.floor(Math.random() * greys.length)];
    }

    const chart = echarts.init(document.getElementById('chart'));

    const option = {
      backgroundColor: 'transparent',
      title: {
        text: '瑞幸小红书官号内容词频图',
        left: 'center',
        top: 10,
        textStyle: { fontSize: 15, fontWeight: 'normal', color: '#333' }
      },
      tooltip: {
        trigger: 'item',
        formatter: (p) => `${p.name}<br/>词频：${p.value}`
      },
      series: [{
        type: 'wordCloud',
        shape: 'circle',
        sizeRange: [12, 72],
        rotationRange: [0, 0],   // 全部水平放置
        rotationStep: 0,
        gridSize: 6,
        drawOutOfBound: false,
        top: 38,                 // 标题与词云贴近
        textStyle: {
          fontFamily: 'sans-serif',
          color: () => pickColor()
        },
        emphasis: {
          focus: 'self',
          textStyle: { shadowBlur: 8, shadowColor: 'rgba(0,0,0,0.25)' }
        },
        data
      }]
    };

    chart.setOption(option);
    window.addEventListener('resize', () => chart.resize());
  </script>
</body>
</html>
